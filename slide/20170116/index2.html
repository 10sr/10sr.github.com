<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }

      @page {
        size: 1210px 681px;
        margin: 0;
      }

      @media print {
        .remark-slide-scaler {
          width: 100% !important;
          height: 100% !important;
          transform: scale(1) !important;
          top: 0 !important;
          left: 0 !important;
        }
      }

      .remark-slide-content {
        font-size: 1.4em;
      }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# EditorConfig に（多分）日本で一番詳しくなった話

## 2017/01/16

## 10sr

---

# About Me

* 10sr
* XXXXXX
    * Java とか Scala (Apache Spark) とか Python とか
* 好きなものはスクリーンエディタです
    * Emacs! Emacs!
        * Emacs Lisp 書きます
    * micro editor はかわいいです
    * 宗教戦争はしません
* ドール始めました

---

# EditorConfig という便利なものがあります

---

# EditorConfig という便利なものがあります

http://editorconfig.org

> EditorConfig helps developers define and maintain consistent coding styles between different editors and IDEs

* プロジェクトにこんな感じのファイルを配置すると、いい感じにエディタを設定してくれる

```ini
[*]
indent_style = space
indent_size = 4

[*.js]
indent_size = 2
```

---

# EditorConfig という便利なものがあります



地味に利用者はそれなりにいます

<!-- * Qiita 記事の :+1: で一番多いものは 217 -->
* 使用しているプロジェクト（例）
  * Node.js
  * Ruby
  * homebrew
  * zsh
  * そのほかいろいろ
      * [Projects-Using-EditorConfig](https://github.com/editorconfig/editorconfig/wiki/Projects-Using-EditorConfig)

---

# EditorConfig という便利なものがあります

* クロスエディタ
* エディタ毎に Plugin がある
  * Vim, ATOM, Notepad++, IntelliJ, GitHub...
* もちろん Emacs 用プラグインもある


---

# Emacs 用 EditorConfig プラグイン

https://github.com/editorconfig/editorconfig-emacs

---

# Emacs 用 EditorConfig プラグイン

https://github.com/editorconfig/editorconfig-emacs

べんりだけど、ちょっとイケてない部分があった

-> インストール方法

---

# editorconfig-emacs

インストール方法

1. Emacs のパッケージ管理システムで `editorconfig` （ Emacs Lisp 部分）を導入する
2. *それとは別に* 、システムのパッケージマネージャなどで `editorconfig` コマンドを導入する
  * `brew install editorconfig` など
  * <font color="red">＞地味に不便＜</font>


---

# editorconfig-emacs

ほんとは Emacs にプラグイン導入するだけで使えるようになってほしい…

* せっかく Emacs にパッケージシステムがあるのに、インストールがそれだけで完結しない
  * エディタの設定なのに、そこだけ外部の環境に依存する
  * 初期化ファイルの共有だけで Emacs の設定が完結しない

---

# どうにかしたい

`editorconfig` コマンドのインストールをなしで済ませたい

---

# どうにかしたい

`editorconfig` コマンドのインストールをなしで済ませたい

-> `editorconfig` コマンドの全機能を <font color="red">Emacs Lisp</font> で実装してしまえばいいのでは？？？？？

---

# どうにかしたい

`editorconfig` コマンドのインストールをなしで済ませたい

-> `editorconfig` コマンドの全機能を <font color="red">Emacs Lisp</font> で実装してしまえばいいのでは？？？？？

-> しました

* 一週間くらいでガリガリ書いた
* fnmatch (Glob) を再実装する必要があったりしたのがアレだった




---

# 出したレポジトリ

* editorconfig-emacs
  * EditorConfig プロジェクトの Emacs プラグイン

---

# 出したレポジトリ

* editorconfig-emacs
  * EditorConfig プロジェクトの Emacs プラグイン

## EditorConfig?
* プロジェクトローカルなエディタ設定を共通化するファイル
  * 申し訳ないですが詳しい説明はおこないません＞＜
    * ググれば解説記事はたくさん出ると思います。便利なので使ってみるといいです
* エディタ（など）ごとに Plugin がある
  * Emacs, Vim, ATOM, IntelliJ, GitHub...


---

# 問題だったこと

Emacs にはプラグイン管理システムがありますが、 EditorConfig プラグインのインストールはちょっと面倒だった

1. Emacs パッケージシステムで EditorConfig プラグイン（ Emacs Lisp 部分）を導入する
2. *それとは別に* 、システムのパッケージマネージャなどで `editorconfig` コマンドを導入する
  * `brew install editorconfig` など

---

# 問題だったこと

Emacs にはプラグイン管理システムがありますが、 EditorConfig プラグインのインストールはちょっと面倒だった

1. Emacs パッケージシステムで EditorConfig プラグイン（ Emacs Lisp 部分）を導入する
2. *それとは別に* 、システムのパッケージマネージャなどで `editorconfig` コマンドを導入する
  * `brew install editorconfig` など

ほんとは Emacs にプラグイン導入するだけで使えるようになってほしい…

* せっかく Emacs にパッケージシステムがあるのに、インストールがそれだけで完結しない
* エディタの設定なのに、そこだけ外部の環境に依存する
* 初期化ファイルの共有だけで Emacs の設定が完結しない
* <font color="red">＞地味に不便＜</font>

---

# 不便なのでどうにかしたい

具体的には、 `editorconfig` コマンドのインストールをなしで済ませたい

---

# 不便なのでどうにかしたい

具体的には、 `editorconfig` コマンドのインストールをなしで済ませたい

-> `editorconfig` コマンドの全機能を Emacs Lisp で実装してしまえばいいのでは？？？？？

---

# 不便なのでどうにかしたい

具体的には、 `editorconfig` コマンドのインストールをなしで済ませたい

-> `editorconfig` コマンドの全機能を Emacs Lisp で実装してしまえばいいのでは？？？？？

-> しました

* 一週間くらいでガリガリ書いた
* fnmatch (Glob) を再実装する必要があったりしたのがアレだった

---

## テスト通ったしプラグインから使ってもらうようにしたいな

---

## テスト通ったしプラグインから使えるようにしよう

---

じゃあどうしようか？

もともとの目的は、 Emacs パッケージだけで完結することだったはず

プラグインに取り込んでもらう必要はない

公開して、使えるようになれば十分では

`editorconfig` コマンドとどちらを使うようにするか選択できるようにしよう

-> 使用する関数を設定できる変数を追加する PR を出した

-> これ全部こっちにいれちゃおうぜ。あと Emacs あんまり分かる人いないから Organization 入ってよ

-> はい








    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
